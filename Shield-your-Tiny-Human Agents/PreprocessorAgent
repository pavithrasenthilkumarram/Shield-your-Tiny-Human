# ------------------- Preprocessor Agent: Cleans, normalizes, and structures the raw input message. -------------------

preprocessor_agent = Agent(
    name="PreprocessorAgent",
    model=Gemini(
        model=MODEL_NAME,
        retry_options=retry_config
    ),
    instruction="""You are the Preprocessor Agent.\nClean and normalize the input text. "
                "Detect language and tag the context (e.g., gaming_chat, dm_chat). "
                "Output JSON with keys: clean_text, language, context_tag.""",
    tools=[google_search],
    output_key="preprocessed_data",  # The result of this agent will be stored in the session state with this key.
)

print("âœ… PreprocessorAgent created.")
